<div class="col-md-6 offset-md-3">
  <div class="login-wrapper">
    <div class="col-md-10 offset-md-1">
      <h3>{{isEdit ? 'Edit user' : 'Register user'}}</h3>

      <div *ngIf="timer" class="alert alert-success">{{isEdit ? 'User updated' : 'User created'}}. Waiting... Redirect to {{isEdit ? 'profile' : 'login'}} across {{shared.decimal}}</div>

      <form [formGroup]="formCreateUser" novalidate>
        <div class="form-group">
          <label>User name</label>

          <mat-form-field class="full-width">
            <input matInput placeholder="User name" [formControl]="formCreateUser.controls['username']">
          </mat-form-field>

          <div class="alert alert-danger"
               *ngIf="formCreateUser.controls['username'].errors && formCreateUser.controls['username'].touched">
            <div *ngIf="formCreateUser.controls['username'].hasError('required')">This field required</div>
            <div *ngIf="formCreateUser.controls['username'].hasError('minlength')">Invalid enter min length password. Correct length: {{minLength}}</div>
            <div *ngIf="formCreateUser.controls['username'].hasError('maxlength')">Invalid enter max length password. Correct length: {{maxLength}}</div>
          </div>
        </div>

      <div class="form-group">
          <label>Second name</label>

          <mat-form-field class="full-width">
              <input matInput placeholder="User name" [formControl]="formCreateUser.controls['secondname']">
          </mat-form-field>

          <div class="alert alert-danger"
               *ngIf="formCreateUser.controls['secondname'].errors && formCreateUser.controls['secondname'].touched">
              <div *ngIf="formCreateUser.controls['secondname'].hasError('required')">This field required</div>
              <div *ngIf="formCreateUser.controls['secondname'].hasError('minlength')">Invalid enter min length password. Correct length: {{minLength}}</div>
              <div *ngIf="formCreateUser.controls['secondname'].hasError('maxlength')">Invalid enter max length password. Correct length: {{maxLength}}</div>
          </div>
      </div>

      <div class="form-group">
          <label>Phone</label>

          <mat-form-field class="full-width">
              <input matInput placeholder="Phone" [formControl]="formCreateUser.controls['phone']" [textMask]="{mask: mask}">
          </mat-form-field>

          <div class="alert alert-danger"
               *ngIf="formCreateUser.controls['phone'].errors && formCreateUser.controls['phone'].touched">
              <div *ngIf="formCreateUser.controls['phone'].hasError('required')">This field required</div>
          </div>
      </div>

        <div class="form-group">
          <label>Email</label>

          <mat-form-field class="full-width">
            <input matInput placeholder="Email" [formControl]="formCreateUser.controls['email']">
          </mat-form-field>

          <div class="alert alert-danger"
               *ngIf="formCreateUser.controls['email'].errors && formCreateUser.controls['email'].touched">
            <div *ngIf="formCreateUser.controls['email'].hasError('required')">This field required</div>
            <div *ngIf="formCreateUser.controls['email'].hasError('email')">Incorrect email address</div>
          </div>
        </div>

        <div class="form-group" *ngIf="!isEdit">
          <label>Password</label>

          <mat-form-field class="full-width">
            <input matInput placeholder="Password" [formControl]="formCreateUser.controls['password']" type="password">
          </mat-form-field>

          <div class="alert alert-danger"
               *ngIf="formCreateUser.controls['password'].errors && formCreateUser.controls['password'].touched">
            <div *ngIf="formCreateUser.controls['password'].hasError('required')">This field required</div>
            <div *ngIf="formCreateUser.controls['password'].hasError('pattern')">Invalid enter symbols. Correct: any letters or/and numbers without special character</div>
            <div *ngIf="formCreateUser.controls['password'].hasError('minlength')">Invalid enter min length password. Correct length: {{minLengthPass}}</div>
            <div *ngIf="formCreateUser.controls['password'].hasError('maxlength')">Invalid enter max length password. Correct length: {{maxLengthPass}}</div>
          </div>
        </div>

          <div class="form-group" *ngIf="isEdit">
              <button class="btn btn-link pointer" style="padding: 0;" (click)="changePassHandler()">Change password</button>
          </div>

          <div class="form-group">
              <button type="submit" class="btn btn-primary pointer" [disabled]="loading" (click)="createUser(formCreateUser)">{{isEdit ? 'Edit' : 'Save'}}</button>
              <button class="btn btn-link" (click)="toProfileOrLogin();">Cancel</button>
          </div>
      </form>
    </div>
  </div>
</div>